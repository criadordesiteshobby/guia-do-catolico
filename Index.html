<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal do Cat√≥lico</title>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background-color: #f8f8f8;
    }

    header {
      background-color: #333;
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 1.4em;
      font-weight: bold;
      letter-spacing: 1px;
    }

    nav {
      width: 250px;
      background-color: #f0f0f0;
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      padding-top: 80px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    nav h2 {
      position: absolute;
      top: 15px;
      left: 0;
      width: 250px;
      text-align: center;
      color: #f4c542;
    }

    nav ul {
      list-style-type: none;
      padding: 0;
    }

    nav ul li {
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
      color: #333;
      transition: background 0.3s;
    }

    nav ul li:hover {
      background-color: #ddd;
    }

    main {
      margin-left: 250px;
      padding: 20px;
    }

    section {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    .chat-container {
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      padding: 15px;
      height: 70vh;
      display: flex;
      flex-direction: column;
    }

    .messages {
      flex: 1;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px;
    }

    .message {
      margin-bottom: 10px;
      background: #f5f5f5;
      padding: 8px;
      border-radius: 6px;
      position: relative;
    }

    .message:hover {
      background: #eaeaea;
    }

    .message-menu {
      display: none;
      position: absolute;
      top: -30px;
      right: 10px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 5px;
    }

    .message:hover .message-menu {
      display: block;
    }

    .input-area {
      display: flex;
      margin-top: 10px;
    }

    .input-area input {
      flex: 1;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .input-area button {
      padding: 10px 15px;
      margin-left: 8px;
      background-color: #f4c542;
      color: #333;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .input-area button:hover {
      background-color: #e0b534;
    }

    .config-area {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .status-btn {
      padding: 10px;
      border-radius: 6px;
      border: none;
      margin-right: 10px;
      cursor: pointer;
    }

    .btn-online {
      background: #4CAF50;
      color: white;
    }

    .btn-offline {
      background: #aaa;
      color: white;
    }

    .counter {
      margin-top: 10px;
      font-weight: bold;
    }

  </style>
</head>
<body>

  <header>Portal do Cat√≥lico</header>

  <nav>
    <h2>Menu</h2>
    <ul>
      <li onclick="showSection('principal')">üè† Menu Principal</li>
      <li onclick="showSection('chat')">üí¨ Chat Online</li>
      <li onclick="showSection('historia')">üìú Hist√≥ria</li>
      <li onclick="showSection('config')">‚öôÔ∏è Configura√ß√µes</li>
      <li onclick="showSection('conta')">üë§ Conta</li>
    </ul>
  </nav>

  <main>
    <section id="principal" class="active">
      <h1>Bem-vindo ao Portal do Cat√≥lico</h1>
      <p>Seu espa√ßo de f√©, comunh√£o e conhecimento sobre a Igreja Cat√≥lica Apost√≥lica Romana.</p>
    </section>

    <section id="chat">
      <h1>Chat Online</h1>
      <div class="chat-container">
        <div class="messages" id="messages"></div>
        <div class="input-area">
          <input type="text" id="messageInput" placeholder="Digite sua mensagem..." />
          <button onclick="sendMessage()">Enviar</button>
        </div>
      </div>
    </section>

    <section id="historia">
      <h1>Hist√≥ria da Igreja Cat√≥lica Apost√≥lica Romana</h1>
      <p>
        A Igreja Cat√≥lica Apost√≥lica Romana √© a mais antiga institui√ß√£o crist√£ cont√≠nua do mundo, 
        com uma hist√≥ria que remonta aos tempos dos ap√≥stolos de Cristo, especialmente Pedro, 
        considerado o primeiro Papa. Ao longo dos s√©culos, a Igreja desempenhou papel fundamental 
        na forma√ß√£o da cultura ocidental, preservando o conhecimento, promovendo a caridade e 
        evangelizando os povos em todos os continentes.
      </p>
      <p>
        Sua sede est√° no Vaticano, em Roma, e o Papa √© seu l√≠der espiritual. 
        A f√© cat√≥lica se baseia na Sagrada Escritura, na Tradi√ß√£o Apost√≥lica e no Magist√©rio da Igreja. 
        O catolicismo √© marcado pelos sacramentos, pela devo√ß√£o √† Virgem Maria e aos santos, 
        e pela miss√£o de anunciar o Evangelho a toda criatura.
      </p>
    </section>

    <section id="config">
      <h1>Configura√ß√µes</h1>
      <div class="config-area" id="configArea">
        <input type="password" id="senhaInput" placeholder="Digite a senha" />
        <button onclick="verificarSenha()">Entrar</button>
        <div id="configConteudo" style="display:none;">
          <button class="status-btn btn-online" onclick="ativarStatus(true)">Estamos Online</button>
          <button class="status-btn btn-offline" onclick="ativarStatus(false)">N√£o Estamos Online</button>
          <div class="counter" id="onlineCounter">Usu√°rios online: 0</div>
          <p id="statusMsg"></p>
        </div>
      </div>
    </section>

    <section id="conta">
      <h1>Conta</h1>
      <p id="userInfo">Carregando informa√ß√µes da conta...</p>
      <button onclick="logout()">Sair</button>
    </section>
  </main>

  <script type="module">
    // =====================================
    // üî• CONFIGURA√á√ÉO DO FIREBASE
    // Cole aqui as mesmas chaves do seu projeto
    // =====================================
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

    const firebaseConfig = {
      // üîë COLE AQUI SUAS CHAVES DO FIREBASE (as mesmas do outro site)
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // =====================================
    // üîπ MENU DE NAVEGA√á√ÉO
    // =====================================
    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // =====================================
    // üí¨ CHAT ONLINE
    // =====================================
    const messagesDiv = document.getElementById("messages");
    const messageInput = document.getElementById("messageInput");

    async function sendMessage() {
      const text = messageInput.value.trim();
      if (text === "") return;
      const user = auth.currentUser;
      if (!user) return alert("Voc√™ precisa estar logado.");

      await addDoc(collection(db, "mensagens"), {
        nome: user.email.split("@")[0],
        texto: text,
        horario: serverTimestamp()
      });

      messageInput.value = "";
    }

    onSnapshot(collection(db, "mensagens"), (snapshot) => {
      messagesDiv.innerHTML = "";
      snapshot.forEach(doc => {
        const msg = doc.data();
        const div = document.createElement("div");
        div.className = "message";
        div.innerHTML = `
          <strong>${msg.nome}</strong>: ${msg.texto}
          <div class="message-menu">
            <button onclick="navigator.clipboard.writeText('${msg.texto}')">üìã</button>
            <button>‚ù§Ô∏è</button>
            <button>üí¨</button>
            <span>${msg.horario?.toDate ? msg.horario.toDate().toLocaleTimeString() : ''}</span>
          </div>
        `;
        messagesDiv.appendChild(div);
      });
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
    });

    // =====================================
    // ‚öôÔ∏è CONFIGURA√á√ïES
    // =====================================
    function verificarSenha() {
      const senha = document.getElementById("senhaInput").value;
      if (senha === "PTC333") {
        document.getElementById("configConteudo").style.display = "block";
      } else {
        alert("Senha incorreta.");
      }
    }

    function ativarStatus(online) {
      const msg = document.getElementById("statusMsg");
      msg.textContent = online ? "ESTAMOS ONLINE" : "N√ÉO ESTAMOS ONLINE";
      msg.style.color = online ? "green" : "gray";
    }

    // =====================================
    // üë§ CONTA
    // =====================================
    onAuthStateChanged(auth, (user) => {
      const userInfo = document.getElementById("userInfo");
      if (user) {
        userInfo.textContent = `Logado como: ${user.email}`;
      } else {
        userInfo.textContent = "Nenhum usu√°rio logado.";
      }
    });

    function logout() {
      signOut(auth);
      alert("Voc√™ saiu da conta.");
    }
  </script>
</body>
          </html>
